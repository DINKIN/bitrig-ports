$OpenBSD$
--- tools/clang/lib/Basic/Targets.cpp.orig	Wed Aug  8 20:10:32 2012
+++ tools/clang/lib/Basic/Targets.cpp	Wed Aug  8 23:39:14 2012
@@ -403,6 +403,7 @@ class BitrigTargetInfo : public OSTargetInfo<Target> {
     // Bitrig defines; list based off of gcc output
 
     Builder.defineMacro("__Bitrig__");
+    Builder.defineMacro("__OpenBSD__");
     DefineStd(Builder, "unix", Opts);
     Builder.defineMacro("__ELF__");
     if (Opts.POSIXThreads)
